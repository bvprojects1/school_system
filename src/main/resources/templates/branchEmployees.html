<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:insert="/header::navbar"></div>
<br/>
<br/>
<body>

<div class="col-md-12">
    <font size="8" color="green"><span th:text="${branch.name}"></span></font>
    <font size="4"><span th:text="${branch.street}"/> <span th:text="${branch.city}"/>
<!--        <span th:text="${branch.country}"/>-->
    </font>
</div>
<br/>
<table width="90%" class="center" border="0px">
    <tr>
        <th>Username</th>
        <th>Name</th>
        <th>Role</th>
        <th>telephone</th>
        <th>Member Since</th>
        <th>Creator</th>
        <th></th>
    </tr>
    <tr th:each="user : ${branchUserList}">
        <td th:text="${user.userName}"></td>
        <td>
            <div th:text="${user.firstName}"></div>
            <div th:text="${user.lastName}"></div>
        </td>
        <td>
            <div th:each="userRole : ${user.userRole}">
                <span th:text="${userRole.name}"></span>
            </div>
        </td>
        <td th:text="${user.telephone1}"></td>
        <td th:text="${#dates.format(user.created, 'dd-MMM-yyyy HH:mm')}"></td>
        <td th:text="${user.createdBy}"></td>
        <td>
            <a href="#" th:href="@{/showCustomer/{id}(id=${user.id})}">REMOVE</a>
            <a th:href="${'/removeCustomerFromBranch/' + {user.id} + '/' + {branch.id}}">remove from branch</a>
        </td>
    </tr>
</table>



<table width="90%" class="center" border="0px">
    <tr>
        <th>REMAINDER USERS</th>
    </tr>
</table>

<table width="90%" class="center" border="0px">
    <tr>
        <th>Username</th>
        <th>Name</th>
        <th>Role</th>
        <th>telephone</th>
        <th>Member Since</th>
        <th>Creator</th>
        <th></th>
    </tr>
    <tr th:each="user : ${otherUserList}">
        <td th:text="${user.userName}"></td>
        <td>
            <div th:text="${user.firstName}"></div>
            <div th:text="${user.lastName}"></div>
        </td>
        <td>
            <div th:each="userRole : ${user.userRole}">
                <span th:text="${userRole.name}"></span>
            </div>
        </td>
        <td th:text="${user.telephone1}"></td>
        <td th:text="${#dates.format(user.created, 'dd-MMM-yyyy HH:mm')}"></td>
        <td th:text="${user.createdBy}"></td>
        <td>
            <a th:href="${'/addCustomerToBranch/' + {user.id} + '/' + {branch.id}}">add to branch</a>
        </td>
    </tr>
</table>

</body>
</html>